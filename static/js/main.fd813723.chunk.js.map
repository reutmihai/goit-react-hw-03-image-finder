{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/App.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/imageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","services/imgService.js","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","Component","constructor","arguments","state","searchQuery","handleSubmit","e","preventDefault","this","trim","props","onFormSubmit","setState","alert","handleChange","value","target","render","React","createElement","className","styles","SearchForm","onSubmit","type","autoComplete","autoFocus","placeholder","onChange","ImageGalleryItem","_ref","webformatURL","largeImageURL","onClick","src","alt","ImageGallery","images","onImageClick","map","_ref2","id","key","API_KEY","async","getImages","page","length","undefined","perPage","response","axios","get","params","q","image_type","orientation","per_page","data","hits","error","console","log","defaults","baseURL","Loader","loader","InfinitySpin","visible","width","color","ariaLabel","Button","Modal","handleKeyDown","event","code","onClose","handleBackdropClick","currentTarget","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","altText","Overlay","App","isLoading","handleSearchSubmit","loadMoreImages","prevState","openModal","showModal","closeModal","ReactDOM","createRoot","document","getElementById","StrictMode"],"mappings":"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","file":"static/js/main.fd813723.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1C-z-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2s_Fq\",\"error\":\"App_error__yS4ld\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1j2Bs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import React, { Component } from 'react';\nimport styles from '../Searchbar/Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n    state = {\n        searchQuery: '',\n    };\n\n    handleSubmit = e => {\n        e.preventDefault();\n        const { searchQuery } = this.state;\n        if(searchQuery.trim() === '') {\n            alert('Please enter a search termin.');\n            return;\n        }\n\n        this.props.onFormSubmit(searchQuery);\n        this.setState({ searchQuery: ''});\n    }\n\n    handleChange = e => {\n        const { value } = e.target;\n        this.setState({ searchQuery: value })\n    }\n\n  render() {\n    return (\n      <div>\n        <header className={styles.Searchbar}>\n          <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n            <button type=\"submit\" className={styles['SearchForm-button']}>\n              <span className={styles['SearchForm-button-label']}>Search</span>\n            </button>\n\n            <input\n              className={styles['SearchForm-input']}\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              value={this.state.searchQuery}\n              onChange={this.handleChange}\n            />\n          </form>\n        </header>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, onClick }) => (\n  <li className={styles.ImageGalleryItem} onClick={onClick}>\n    <img src={webformatURL} alt=\"\" className={styles['ImageGalleryItem-image']} />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired, \n};\n\nexport default ImageGalleryItem;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/imageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onImageClick }) => (\n  <ul className={styles.ImageGallery}>\n    {images.map(({ id, webformatURL, largeImageURL }) => (\n      <ImageGalleryItem\n        key={id}\n        webformatURL={webformatURL}\n        largeImageURL={largeImageURL}\n        onClick={() => onImageClick(largeImageURL, 'Image description')}\n      />\n    ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n  onImageClick: PropTypes.func.isRequired, \n};\n\nexport default ImageGallery;","import axios from 'axios';\nconst API_KEY = '45884616-48de2ef17b1bd78226af0a3e8';\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport async function getImages(searchQuery, page = 1, perPage = 12) {\n    try {\n        const response = await axios.get('', {\n            params: {\n                q: searchQuery,\n                page: page,\n                key: API_KEY,\n                image_type: 'photo',\n                orientation: 'horizontal',\n                per_page: perPage,\n            },\n        });\n\n          if (response.data.hits.length === 0) {\n            return []; \n          }\n\n        const images = response.data.hits.map(({ id, webformatURL, largeImageURL }) => ({\n            id,\n            webformatURL,\n            largeImageURL,\n        }));\n\n\n        return images;\n    } catch(error) {\n        console.log('Eroare in imgService:', error);\n        throw error;\n    }\n};","import React from 'react';\nimport { InfinitySpin } from 'react-loader-spinner'; \nimport styles from '../Loader/Loader.module.css';\n\nexport const Loader = () => {\n  return (\n    <div className={styles.loader}>\n      <InfinitySpin\n        visible={true}\n        width=\"200\"\n        color=\"#4fa94d\"\n        ariaLabel=\"infinity-spin-loading\"\n      />\n    </div>\n  );\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css'; \n\nconst Button = ({ onClick, visible }) => {\n  if (!visible) return null; \n\n  return (\n    <button className={styles.Button} onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  visible: PropTypes.bool.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.onClose(); \n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { largeImageURL, altText } = this.props;\n\n    return (\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.Modal}>\n          <img src={largeImageURL} alt={altText} />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  largeImageURL: PropTypes.string.isRequired,\n  altText: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport Searchbar from '../components/Searchbar/Searchbar';\nimport ImageGallery from '../components/ImageGallery/ImageGallery';\nimport { getImages } from '../services/imgService';\nimport { Loader } from './Loader/Loader';\nimport styles from './App.module.css';\nimport Button from './Button/Button';\nimport Modal from './Modal/Modal';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    isLoading: false,\n    images: [],\n    error: '',\n    page: 1,\n  };\n\n  handleSearchSubmit = async searchQuery => {\n    try {\n      this.setState({ searchQuery, isLoading: true, error: '' , page: 1});\n      const images = await getImages(searchQuery);\n      if (images.length === 0) {\n        this.setState({ images: [], error: 'N-a fost gasit niciun rezultat.' });\n        return;\n      }\n\n      this.setState({ images });\n    } catch (error) {\n      this.setState({ images: [], error: 'A apărut o eroare la căutare.' });\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  };\n\n  loadMoreImages = async () => {\n    this.setState(prevState => ({ isLoading: true, page: prevState.page + 1 }));\n    const { searchQuery, page } = this.state;\n\n    try {\n      const images = await getImages(searchQuery, page);\n      this.setState(prevState => ({\n        images: [...prevState.images, ...images],\n      }));\n    } catch (error) {\n      this.setState({ error: 'A aparut o eroare la incarcarea imaginilor.' });\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  };\n\n  openModal = (largeImageURL, altText) => {\n    this.setState({ showModal: true, largeImageURL, altText });\n  };\n\n  closeModal = () => {\n    this.setState({ showModal: false, largeImageURL: '', altText: '' });\n  };\n\n  render() {\n    const { images, error, isLoading, showModal, largeImageURL, altText } =\n      this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onFormSubmit={this.handleSearchSubmit} />\n        <div>\n          {error && <div className={styles.error}>{error}</div>}\n          {isLoading ? <Loader /> : <ImageGallery images={images} onImageClick={this.openModal}/>}\n        </div>\n        <Button onClick={this.loadMoreImages} visible={images.length > 0 && !isLoading} />\n          {showModal && <Modal largeImageURL={largeImageURL} altText={altText} onClose={this.closeModal} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from 'components/App';\nimport './index.css';\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3u-rY\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__2bzU3\",\"SearchForm-input\":\"Searchbar_SearchForm-input__j6qzO\"};"],"sourceRoot":""}